import re

UK_POSTCODE_REGEX = re.compile(
    r"""
    ^(
        (GIR\s0AA)|XM4\s5HQ|SAN\sTA1|                           # Special cases
        (
            (
                ([A-PR-UWYZ][0-9][0-9]?) |                      # A9 or A99
                ([A-PR-UWYZ][A-HK-Y][0-9][0-9]?) |              # AA9 or AA99
                ([A-PR-UWYZ][0-9][A-HJKPSTUW]) |                # A9A
                ([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY])        # AA9A
            )
            \s                                                  # one and only one space
            [0-9][ABD-HJLNP-UW-Z]{2}                            # Inward code
        )
    )$
    """,
    re.VERBOSE | re.IGNORECASE,
)

NON_GEOGRAPHIC_DISTRICTS = {
    "CM92",
    "CF30",
    "PE99",
    "CH32",
    "PR0",
    "EC4P",
    "BD98",
    "NG70",
    "DE45",
    "CH88",
    "BT58",
    "DE1",
    "W1A",
    "G79",
    "NE83",
    "SA72",
    "S94",
    "HP22",
    "LS99",
    "BS99",
    "CH27",
    "PO24",
    "WD99",
    "SY99",
    "LE94",
    "BN50",
    "DH97",
    "BB0",
    "IP98",
    "NR26",
    "NE99",
    "EC3P",
    "OL95",
    "IM99",
    "NG90",
    "EH77",
    "G9",
    "NW26",
    "BN52",
    "E77",
    "N1P",
    "TQ9",
    "KY99",
    "CH31",
    "WV99",
    "M60",
    "LE21",
    "NE85",
    "UB3",
    "TN2",
    "IM87",
    "E98",
    "CM98",
    "BN95",
    "CW98",
    "WV98",
    "L73",
    "CH29",
    "GL11",
    "BD97",
    "CH25",
    "LE87",
    "LS88",
    "GU95",
    "SR9",
    "WR99",
    "LE41",
    "BN99",
    "BS98",
    "WA55",
    "BB94",
    "CF95",
    "WV1",
    "SA80",
    "L69",
    "DL98",
    "SA99",
    "IM86",
    "PL95",
    "DN55",
    "WR11",
    "EH99",
    "MK77",
    "SE1P",
    "PR11",
    "L70",
    "BL11",
    "WR78",
    "YO90",
    "CH28",
    "L72",
    "NR18",
    "UB8",
    "DH99",
    "CA95",
    "S97",
    "L67",
    "EC50",
    "CM99",
    "BN88",
    "NE92",
    "CH26",
    "NR99",
    "CR9",
    "NW1W",
    "S49",
    "NG80",
    "BS0",
    "S99",
    "CT50",
    "DH98",
    "NE82",
    "B99",
    "EC1P",
    "UB5",
    "BN51",
    "NN99",
    "OL16",
    "CR44",
    "WF90",
    "EH91",
    "CF99",
    "JE4",
    "L80",
    "L74",
    "G70",
    "CH30",
    "NE98",
    "CR90",
    "NE88",
    "JE5",
    "G58",
    "M99",
    "M61",
    "BL78",
    "G90",
    "ME99",
    "NR19",
    "WA88",
    "CA99",
    "BD99",
    "N81",
    "S95",
    "IV99",
    "S98",
    "LE95",
    "EH95",
    "BA9",
    "SA48",
    "LS98",
    "CH99",
    "RH77",
    "SR43",
    "L71",
    "UB18",
    "CH33",
    "CF91",
    "L75",
    "EC2P",
    "AB99",
    "BN91",
    "S96",
    "JE1",
    "LE55",
    "SS1",
    "CH34",
}

SINGLE_DIGIT_DISTRICTS = {
    "BL",
    "BR",
    "FY",
    "HA",
    "HD",
    "HG",
    "HR",
    "HS",
    "HX",
    "JE",
    "LD",
    "SM",
    "SR",
    "WC",
    "WN",
    "ZE",
}

DOUBLE_DIGIT_DISTRICTS = {"AB", "LL", "SO"}

ZERO_ONLY_ALLOWED_DISTRICTS = {"BL", "BS", "CM", "CR", "FY", "HA", "PR", "SL", "SS"}

CENTRAL_LONDON_DISTRICTS_REQUIRING_SUBDIVISION = {
    "EC1",
    "EC2",
    "EC3",
    "EC4",
    "SW1",
    "W1",
    "WC1",
    "WC2",
    "E1",
    "N1",
    "NW1",
    "SE1",
}
